<!DOCTYPE html>
<html>
<head>
	<script src="https://cdn.socket.io/socket.io-1.4.5.js"></script>
	<title>機車防盜</title>
</head>

<body>
	<div> Test </div>
	<audio id="alarm" preload="auto">
		<source src="sounds/alarm.wav" type="audio/wav">
	</audio>
	<audio id="lock" preload="auto">
		<source src="sounds/lock.mp3" type="audio/mp3">
	</audio>
	<audio id="unlock" preload="auto">
		<source src="sounds/unlock.mp3" type="audio/mp3">
	</audio>
	<button onclick="playAlarm()">alarm</button>
	<button onclick="stopAlarm()">stop alarm</button>
	<button onclick="playLock()">lock</button>
	<button onclick="playUnlock()">unlock</button>
<script>
	function playAlarm() {
		document.getElementById('alarm').play();
		document.getElementById('alarm').loop = true;
	}
	function stopAlarm() {
		document.getElementById('alarm').pause();
	}
	function playLock() {
		document.getElementById('lock').play();
	}
	function playUnlock() {
		document.getElementById('unlock').play();
	}
	
	var socket = io();
	
	socket.on('play:alarm', function() {
		playAlarm();
	});
	socket.on('stop:alarm', function() {
		stopAlarm();
	});
	socket.on('play:lock', function() {
		playLock();
	});
	socket.on('play:unlock', function() {
		playUnlock();
	});
</script>
</body>
</html>